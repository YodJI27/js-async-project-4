var Lt=Object.defineProperty;var rt=t=>{throw TypeError(t)};var Ot=(t,e,r)=>e in t?Lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var D=(t,e,r)=>Ot(t,typeof e!="symbol"?e+"":e,r),Le=(t,e,r)=>e.has(t)||rt("Cannot "+r);var i=(t,e,r)=>(Le(t,e,"read from private field"),r?r.call(t):e.get(t)),h=(t,e,r)=>e.has(t)?rt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),y=(t,e,r,n)=>(Le(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),P=(t,e,r)=>(Le(t,e,"access private method"),r);import{a as Nt}from"./js.cookie-Cz0CWeBA.js";import{g as dt}from"./_commonjsHelpers-D6-XlEtG.js";import{T as nt,a as $t,P as Ht}from"./bootstrap.esm-CL3T8E-a.js";import"./i18n-B0Bg2OxG.js";import{i as qt}from"./i18next-Bf1VZ1Ha.js";/* empty css                    */import{s as Ft}from"./autocomplete-NMyhefB8.js";import"./i18nInstance-DBIXdvxg.js";import"./index-xsH4HHeE.js";import"./debounce-CLTjDgnO.js";const J="a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",X={selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},me="select[data-remote], input[data-remote], textarea[data-remote]",H="form:not([data-turbo=true])",ue="form:not([data-turbo=true]) input[type=submit], form:not([data-turbo=true]) input[type=image], form:not([data-turbo=true]) button[type=submit], form:not([data-turbo=true]) button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",Ke="input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",je="input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",Ut="input[name][type=file]:not([disabled])",re="a[data-disable-with], a[data-disable]",ge="button[data-remote][data-disable-with], button[data-remote][data-disable]";let ft=null;const Je=()=>{const t=document.querySelector("meta[name=csp-nonce]");return ft=t&&t.content},mt=()=>ft||Je(),Oe=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,A=function(t,e){return e.exclude?Oe.call(t,e.selector)&&!Oe.call(t,e.exclude):Oe.call(t,e)},he="_ujsData",q=(t,e)=>t[he]?t[he][e]:void 0,w=function(t,e,r){return t[he]||(t[he]={}),t[he][e]=r},Te=t=>Array.prototype.slice.call(document.querySelectorAll(t)),Re=function(t){var e=!1;do{if(t.isContentEditable){e=!0;break}t=t.parentElement}while(t);return e},Me=()=>{const t=document.querySelector("meta[name=csrf-token]");return t&&t.content},Xe=()=>{const t=document.querySelector("meta[name=csrf-param]");return t&&t.content},We=t=>{const e=Me();if(e)return t.setRequestHeader("X-CSRF-Token",e)},ht=()=>{const t=Me(),e=Xe();if(t&&e)return Te('form input[name="'+e+'"]').forEach(r=>r.value=t)},st={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},pt=t=>{t=zt(t);var e=Bt(t,function(){const r=Gt(e.response!=null?e.response:e.responseText,e.getResponseHeader("Content-Type"));return Math.floor(e.status/100)===2?typeof t.success=="function"&&t.success(r,e.statusText,e):typeof t.error=="function"&&t.error(r,e.statusText,e),typeof t.complete=="function"?t.complete(e,e.statusText):void 0});if(t.beforeSend&&!t.beforeSend(e,t))return!1;if(e.readyState===XMLHttpRequest.OPENED)return e.send(t.data)};var zt=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),t.type==="GET"&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),t.dataType in st||(t.dataType="*"),t.accept=st[t.dataType],t.dataType!=="*"&&(t.accept+=", */*; q=0.01"),t},Bt=function(t,e){const r=new XMLHttpRequest;return r.open(t.type,t.url,!0),r.setRequestHeader("Accept",t.accept),typeof t.data=="string"&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),We(r)),r.withCredentials=!!t.withCredentials,r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)return e(r)},r},Gt=function(t,e){if(typeof t=="string"&&typeof e=="string"){if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch{}else if(e.match(/\b(?:java|ecma)script\b/)){const r=document.createElement("script");r.setAttribute("nonce",mt()),r.text=t,document.head.appendChild(r).parentNode.removeChild(r)}else if(e.match(/\b(xml|html|svg)\b/)){const r=new DOMParser;e=e.replace(/;.+/,"");try{t=r.parseFromString(t,e)}catch{}}}return t};const Yt=t=>t.href,Qe=function(t){const e=document.createElement("a");e.href=location.href;const r=document.createElement("a");try{return r.href=t,!((!r.protocol||r.protocol===":")&&!r.host||e.protocol+"//"+e.host==r.protocol+"//"+r.host)}catch{return!0}};let at,{CustomEvent:Z}=window;typeof Z!="function"&&(Z=function(t,e){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r},Z.prototype=window.Event.prototype,{preventDefault:at}=Z.prototype,Z.prototype.preventDefault=function(){const t=at.call(this);return this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get(){return!0}}),t});const j=(t,e,r)=>{const n=new Z(e,{bubbles:!0,cancelable:!0,detail:r});return t.dispatchEvent(n),!n.defaultPrevented},Q=t=>{j(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},m=(t,e,r,n)=>t.addEventListener(r,function(a){let{target:s}=a;for(;s instanceof Element&&!A(s,e);)s=s.parentNode;s instanceof Element&&n.call(s,a)===!1&&(a.preventDefault(),a.stopPropagation())}),De=t=>Array.prototype.slice.call(t),qe=(t,e)=>{let r=[t];A(t,"form")&&(r=De(t.elements));const n=[];return r.forEach(function(a){!a.name||a.disabled||A(a,"fieldset[disabled] *")||(A(a,"select")?De(a.options).forEach(function(s){s.selected&&n.push({name:a.name,value:s.value})}):(a.checked||["radio","checkbox","submit"].indexOf(a.type)===-1)&&n.push({name:a.name,value:a.value}))}),e&&n.push(e),n.map(function(a){return a.name?`${encodeURIComponent(a.name)}=${encodeURIComponent(a.value)}`:a}).join("&")},Ve=(t,e)=>A(t,"form")?De(t.elements).filter(r=>A(r,e)):De(t.querySelectorAll(e)),Kt=t=>function(e){Xt(this,t)||Q(e)},Jt=(t,e)=>window.confirm(t);var Xt=function(t,e){let r;const n=t.getAttribute("data-confirm");if(!n)return!0;let a=!1;if(j(t,"confirm")){try{a=e.confirm(n,t)}catch{}r=j(t,"confirm:complete",[a])}return a&&r};const ee=function(t){this.disabled&&Q(t)},Y=t=>{let e;if(t instanceof Event){if(e0(t))return;e=t.target}else e=t;if(!Re(e)){if(A(e,re))return Qt(e);if(A(e,ge)||A(e,je))return bt(e);if(A(e,H))return Zt(e)}},de=t=>{const e=t instanceof Event?t.target:t;if(!Re(e)){if(A(e,re))return Wt(e);if(A(e,ge)||A(e,Ke))return gt(e);if(A(e,H))return Vt(e)}};var Wt=function(t){if(q(t,"ujs:disabled"))return;const e=t.getAttribute("data-disable-with");return e!=null&&(w(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",Q),w(t,"ujs:disabled",!0)},Qt=function(t){const e=q(t,"ujs:enable-with");return e!=null&&(t.innerHTML=e,w(t,"ujs:enable-with",null)),t.removeEventListener("click",Q),w(t,"ujs:disabled",null)},Vt=t=>Ve(t,Ke).forEach(gt),gt=function(t){if(q(t,"ujs:disabled"))return;const e=t.getAttribute("data-disable-with");return e!=null&&(A(t,"button")?(w(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(w(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,w(t,"ujs:disabled",!0)},Zt=t=>Ve(t,je).forEach(e=>bt(e)),bt=function(t){const e=q(t,"ujs:enable-with");return e!=null&&(A(t,"button")?t.innerHTML=e:t.value=e,w(t,"ujs:enable-with",null)),t.disabled=!1,w(t,"ujs:disabled",null)},e0=function(t){const e=t.detail?t.detail[0]:void 0;return e&&e.getResponseHeader("X-Xhr-Redirect")};const t0=t=>function(e){const r=this,n=r.getAttribute("data-method");if(!n||Re(this))return;const a=t.href(r),s=Me(),l=Xe(),p=document.createElement("form");let u=`<input name='_method' value='${n}' type='hidden' />`;l&&s&&!Qe(a)&&(u+=`<input name='${l}' value='${s}' type='hidden' />`),u+='<input type="submit" />',p.method="post",p.action=a,p.target=r.target,p.innerHTML=u,p.style.display="none",document.body.appendChild(p),p.querySelector('[type="submit"]').click(),Q(e)},r0=function(t){const e=t.getAttribute("data-remote");return e!=null&&e!=="false"},n0=t=>function(e){let r,n,a;const s=this;if(!r0(s))return!0;if(!j(s,"ajax:before")||Re(s))return j(s,"ajax:stopped"),!1;const l=s.getAttribute("data-with-credentials"),p=s.getAttribute("data-type")||"script";if(A(s,H)){const u=q(s,"ujs:submit-button");n=q(s,"ujs:submit-button-formmethod")||s.getAttribute("method")||"get",a=q(s,"ujs:submit-button-formaction")||s.getAttribute("action")||location.href,n.toUpperCase()==="GET"&&(a=a.replace(/\?.*$/,"")),s.enctype==="multipart/form-data"?(r=new FormData(s),u!=null&&r.append(u.name,u.value)):r=qe(s,u),w(s,"ujs:submit-button",null),w(s,"ujs:submit-button-formmethod",null),w(s,"ujs:submit-button-formaction",null)}else A(s,X)||A(s,me)?(n=s.getAttribute("data-method"),a=s.getAttribute("data-url"),r=qe(s,s.getAttribute("data-params"))):(n=s.getAttribute("data-method"),a=t.href(s),r=s.getAttribute("data-params"));pt({type:n||"GET",url:a,data:r,dataType:p,beforeSend(u,o){return j(s,"ajax:beforeSend",[u,o])?j(s,"ajax:send",[u]):(j(s,"ajax:stopped"),!1)},success(...u){return j(s,"ajax:success",u)},error(...u){return j(s,"ajax:error",u)},complete(...u){return j(s,"ajax:complete",u)},crossDomain:Qe(a),withCredentials:l!=null&&l!=="false"}),Q(e)},vt=function(t){const e=this,{form:r}=e;if(r)return e.name&&w(r,"ujs:submit-button",{name:e.name,value:e.value}),w(r,"ujs:formnovalidate-button",e.formNoValidate),w(r,"ujs:submit-button-formaction",e.getAttribute("formaction")),w(r,"ujs:submit-button-formmethod",e.getAttribute("formmethod"))},Se=function(t){const e=this,r=(e.getAttribute("data-method")||"GET").toUpperCase(),n=e.getAttribute("data-params"),s=(t.metaKey||t.ctrlKey)&&r==="GET"&&!n;(t.button!=null&&t.button!==0||s)&&t.stopImmediatePropagation()},G={$:Te,ajax:pt,buttonClickSelector:X,buttonDisableSelector:ge,confirm:Jt,cspNonce:mt,csrfToken:Me,csrfParam:Xe,CSRFProtection:We,delegate:m,disableElement:de,enableElement:Y,fileInputSelector:Ut,fire:j,formElements:Ve,formEnableSelector:je,formDisableSelector:Ke,formInputClickSelector:ue,formSubmitButtonClick:vt,formSubmitSelector:H,getData:q,handleDisabledElement:ee,href:Yt,inputChangeSelector:me,isCrossDomain:Qe,linkClickSelector:J,linkDisableSelector:re,loadCSPNonce:Je,matches:A,preventInsignificantClick:Se,refreshCSRFTokens:ht,serializeElement:qe,setData:w,stopEverything:Q},te=Kt(G);G.handleConfirm=te;const yt=t0(G);G.handleMethod=yt;const fe=n0(G);G.handleRemote=fe;const s0=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){Te(je).forEach(function(t){q(t,"ujs:disabled")&&Y(t)}),Te(re).forEach(function(t){q(t,"ujs:disabled")&&Y(t)})}),m(document,re,"ajax:complete",Y),m(document,re,"ajax:stopped",Y),m(document,ge,"ajax:complete",Y),m(document,ge,"ajax:stopped",Y),m(document,J,"click",Se),m(document,J,"click",ee),m(document,J,"click",te),m(document,J,"click",de),m(document,J,"click",fe),m(document,J,"click",yt),m(document,X,"click",Se),m(document,X,"click",ee),m(document,X,"click",te),m(document,X,"click",de),m(document,X,"click",fe),m(document,me,"change",ee),m(document,me,"change",te),m(document,me,"change",fe),m(document,H,"submit",ee),m(document,H,"submit",te),m(document,H,"submit",fe),m(document,H,"submit",t=>setTimeout(()=>de(t),13)),m(document,H,"ajax:send",de),m(document,H,"ajax:complete",Y),m(document,ue,"click",Se),m(document,ue,"click",ee),m(document,ue,"click",te),m(document,ue,"click",vt),document.addEventListener("DOMContentLoaded",ht),document.addEventListener("DOMContentLoaded",Je),window._rails_loaded=!0};G.start=s0;if(typeof jQuery<"u"&&jQuery&&jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=G,jQuery.ajaxPrefilter(function(t,e,r){if(!t.crossDomain)return We(r)})}var Ne={exports:{}},it;function a0(){return it||(it=1,function(t){(function(e){/**
 * This script gives you the zone info key representing your device's time zone setting.
 *
 * @name jsTimezoneDetect
 * @version 1.0.6
 * @author Jon Nylander
 * @license MIT License - https://bitbucket.org/pellepim/jstimezonedetect/src/default/LICENCE.txt
 *
 * For usage and examples, visit:
 * http://pellepim.bitbucket.org/jstz/
 *
 * Copyright (c) Jon Nylander
 */var r=function(){var n="s",a={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},s=function(c){var d=-c.getTimezoneOffset();return d!==null?d:0},l=function(){var c=s(new Date(a.BASELINE_YEAR,0,2)),d=s(new Date(a.BASELINE_YEAR,5,2)),_=c-d;return _<0?c+",1":_>0?d+",1,"+n:c+",0"},p=function(){var c,d;if(!(typeof Intl>"u"||typeof Intl.DateTimeFormat>"u")&&(c=Intl.DateTimeFormat(),!(typeof c>"u"||typeof c.resolvedOptions>"u")&&(d=c.resolvedOptions().timeZone,d&&(d.indexOf("/")>-1||d==="UTC")&&d.indexOf("Etc")!=0)))return d},u=function(c){for(var d=new Date(c,0,1,0,0,1,0).getTime(),_=new Date(c,12,31,23,59,59).getTime(),g=d,R=new Date(g).getTimezoneOffset(),U=null,x=null;g<_-864e5;){var v=new Date(g),O=v.getTimezoneOffset();O!==R&&(O<R&&(U=v),O>R&&(x=v),R=O),g+=864e5}return U&&x?{s:o(U).getTime(),e:o(x).getTime()}:!1},o=function T(c,d,_){typeof d>"u"&&(d=a.DAY,_=a.HOUR);for(var g=new Date(c.getTime()-d).getTime(),R=c.getTime()+d,U=new Date(g).getTimezoneOffset(),x=g,v=null;x<R-_;){var O=new Date(x),ke=O.getTimezoneOffset();if(ke!==U){v=O;break}x+=_}return d===a.DAY?T(v,a.HOUR,a.MINUTE):d===a.HOUR?T(v,a.MINUTE,a.SECOND):v},f=function(c,d,_,g){if(_!=="N/A")return _;if(d==="Asia/Beirut"){if(g.name==="Africa/Cairo"&&c[6].s===13983768e5&&c[6].e===14116788e5||g.name==="Asia/Jerusalem"&&c[6].s===13959648e5&&c[6].e===14118588e5)return 0}else if(d==="America/Santiago"){if(g.name==="America/Asuncion"&&c[6].s===14124816e5&&c[6].e===1397358e6||g.name==="America/Campo_Grande"&&c[6].s===14136912e5&&c[6].e===13925196e5)return 0}else if(d==="America/Montevideo"){if(g.name==="America/Sao_Paulo"&&c[6].s===14136876e5&&c[6].e===1392516e6)return 0}else if(d==="Pacific/Auckland"&&g.name==="Pacific/Fiji"&&c[6].s===14142456e5&&c[6].e===13961016e5)return 0;return _},b=function(c,d){for(var _=function(V){for(var z=0,M=0;M<c.length;M++)if(V.rules[M]&&c[M]){if(c[M].s>=V.rules[M].s&&c[M].e<=V.rules[M].e)z=0,z+=Math.abs(c[M].s-V.rules[M].s),z+=Math.abs(V.rules[M].e-c[M].e);else{z="N/A";break}if(z>a.MAX_SCORE){z="N/A";break}}return z=f(c,d,z,V),z},g={},R=r.olson.dst_rules.zones,U=R.length,x=a.AMBIGUITIES[d],v=0;v<U;v++){var O=R[v],ke=_(R[v]);ke!=="N/A"&&(g[O.name]=ke)}for(var Pe in g)if(g.hasOwnProperty(Pe)){for(var Ie=0;Ie<x.length;Ie++)if(x[Ie]===Pe)return Pe}return d},S=function(c){var d=function(){for(var x=[],v=0;v<r.olson.dst_rules.years.length;v++){var O=u(r.olson.dst_rules.years[v]);x.push(O)}return x},_=function(x){for(var v=0;v<x.length;v++)if(x[v]!==!1)return!0;return!1},g=d(),R=_(g);return R?b(g,c):c},le=function(){var c=p();return c||(c=r.olson.timezones[l()],typeof a.AMBIGUITIES[c]<"u"&&(c=S(c))),{name:function(){return c},stdTimezoneOffset:function(){return-l().split(",")[0]},timezoneOffset:function(){return-s(new Date)}}};return{determine:le}}();r.olson=r.olson||{},r.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},r.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},t.exports=r})()}(Ne)),Ne.exports}var $e,ot;function i0(){return ot||(ot=1,$e=a0()),$e}var o0=i0();const c0=dt(o0);var be,F,At,_t,Et,wt;class l0{constructor(e=["cocooned"]){h(this,F);h(this,be);y(this,be,e)}emit(e,r,n={}){return!P(this,F,At).call(this,e,r,n).some(a=>a.defaultPrevented)}}be=new WeakMap,F=new WeakSet,At=function(e,r,n={}){const a=P(this,F,Et).call(this,r,n);return a.forEach(s=>P(this,F,_t).call(this,e,s)),a},_t=function(e,r){return e.dispatchEvent(r)},Et=function(e,r){return i(this,be).map(n=>P(this,F,wt).call(this,`${n}:${e}`,r))},wt=function(e,r){return new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r})};function u0(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}function d0(t,e){e.forEach(r=>{const n=r.querySelector('input[type=hidden][name$="[_destroy]"]');n!==null&&n.getAttribute("value")==="true"&&t.hide(r,{animate:!1})})}function f0(t,e=!1){return e&&(t.dataset.cocoonedScrollHeight=t.scrollHeight),[{height:`${t.dataset.cocoonedScrollHeight}px`,opacity:1},{height:`${t.dataset.cocoonedScrollHeight}px`,opacity:0},{height:0,opacity:0}]}const ct=Object.create(null);class m0{constructor(e,r){D(this,"_container");D(this,"_options");D(this,"__uuid");D(this,"__emitter");this._container=e,this._uuid=u0(),this._options=this.constructor._normalizeOptions({...this.constructor.defaultOptions,..."cocoonedOptions"in e.dataset?JSON.parse(e.dataset.cocoonedOptions):{},...r||{}})}static get defaultOptions(){const e=document.createElement("div");return{animate:"animate"in e&&typeof e.animate=="function",animator:f0,duration:450}}static get eventNamespaces(){return["cocooned"]}static get selectors(){return{container:["[data-cocooned-container]",".cocooned-container"],item:["[data-cocooned-item]",".cocooned-item"]}}static getInstance(e){return ct[e]}get container(){return this._container}get options(){return this._options}start(){this.container.dataset.cocoonedContainer=!0,this.container.dataset.cocoonedUuid=this._uuid,ct[this._uuid]=this;const e=()=>{d0(this,this.items)};e(),this.container.ownerDocument.addEventListener("page:load",e),this.container.ownerDocument.addEventListener("turbo:load",e),this.container.ownerDocument.addEventListener("turbolinks:load",e)}notify(e,r,n){return this._emitter.emit(e,r,n)}get items(){return Array.from(this.container.querySelectorAll(this._selector("item"))).filter(e=>this.toContainer(e)===this.container).filter(e=>!("display"in e.style&&e.style.display==="none"))}toContainer(e){return e.closest(this._selector("container"))}toItem(e){return e.closest(this._selector("item"))}contains(e){return this.items.includes(this.toItem(e))}hide(e,r={}){const n=this._animationOptions(r),a=n.animator(e,!0),s=()=>{e.style.display="none"};return n.animate?e.animate(a,n.duration).finished.then(s).then(()=>e):Promise.resolve(s()).then(()=>e)}show(e,r={}){const n=this._animationOptions(r),a=n.animator(e,!1).reverse(),s=()=>{e.style.display=null},l=Promise.resolve(s());return n.animate?l.then(()=>e.animate(a,n.duration).finished).then(()=>e):l.then(()=>e)}static _normalizeOptions(e){return e}get _emitter(){return typeof this.__emitter>"u"&&(this.__emitter=new l0(this.constructor.eventNamespaces)),this.__emitter}_selectors(e){return this.constructor.selectors[e]}_selector(e){return this._selectors(e).join(", ")}_animationOptions(e){return{...(({animate:n,animator:a,duration:s})=>({animate:n,animator:a,duration:s}))(this._options),...e}}}class Ze{constructor(e,r){D(this,"_cocooned");D(this,"_trigger");this._trigger=e,this._cocooned=r}get trigger(){return this._trigger}handle(e){throw new TypeError("handle() must be defined in subclasses")}get _item(){return this._cocooned.toItem(this._trigger)}get _notified(){return this._item}_notify(e,r){return this._cocooned.notify(this._notified,e,this._eventData(r))}_eventData(e){return{link:this._trigger,node:this._item,cocooned:this._cocooned,originalEvent:e}}_hide(e,r){return this._cocooned.hide(e,r)}_show(e,r){return this._cocooned.show(e,r)}}var ve,ye,Ae,Fe;class xt{constructor(e,r){h(this,Ae);h(this,ve);h(this,ye);y(this,ve,e),y(this,ye,r)}build(e){const r=i(this,ve).cloneNode(!0);return P(this,Ae,Fe).call(this,r,e),r}}ve=new WeakMap,ye=new WeakMap,Ae=new WeakSet,Fe=function(e,r){i(this,ye).forEach(n=>{e.querySelectorAll(`${n.tag}[${n.attribute}]`).forEach(a=>n.apply(a,r))}),e.querySelectorAll("template").forEach(n=>{P(this,Ae,Fe).call(this,n.content,r)})};var k,N;class h0{constructor(e,r){h(this,k);h(this,N);y(this,k,e),y(this,N,r)}resolve(e){if(i(this,N)in i(this,k)&&typeof i(this,k)[i(this,N)]=="function")return this._tryMethod(i(this,N),e);if(i(this,N)in i(this,k))return this._tryProperty(i(this,N));const r=`_${i(this,N)}`;return r in this?this[r](e):null}_tryMethod(e,r){try{const n=i(this,k)[e](r);if(n instanceof HTMLElement)return n}catch{}return null}_tryProperty(e){const r=i(this,k)[e];return r instanceof HTMLElement?r:null}_parent(e){return i(this,k).parentElement.matches(e)?i(this,k).parentElement:null}_prev(e){return i(this,k).previousElementSibling.matches(e)?i(this,k).previousElementSibling:null}_next(e){return i(this,k).nextElementSibling.matches(e)?i(this,k).nextElementSibling:null}_siblings(e){return i(this,k).parentElement.querySelector(e)}}k=new WeakMap,N=new WeakMap;var _e;class p0{constructor(e,r,n){D(this,"logger");D(this,"package");D(this,"version");h(this,_e,Object.create(null));this.version=e,this.package=r,this.logger=n}warn(e,r=null){if(e in i(this,_e))return;const n=`${e}. It will be removed from ${this.package} ${this.version}`,a=r!==null?`, use ${r} instead`:"";this.logger.warn(`DEPRECATION WARNING: ${n}${a}.`),i(this,_e)[e]=!0}}_e=new WeakMap;const He=Object.create(null);function g0(t,e="Cocooned",r=console){const n=[t,e].join("#");return n in He||(He[n]=new p0(t,e,r)),He[n]}var ne,$,E,C;class b0{constructor(e,r){h(this,E);h(this,ne);h(this,$);y(this,$,e),y(this,ne,r)}extract(){return["builder","count","node","method"].reduce((e,r)=>{const n=`_extract${r.charAt(0).toUpperCase()+r.slice(1)}`,a=this[n]();return a!==null&&(e[r]=a),e},{})}_extractBuilder(){if(!("template"in i(this,E,C)&&"association"in i(this,E,C)))return null;const e=n=>n==null?void 0:n.querySelector(`template[data-name="${i(this,E,C).template}"]`),r=e(i(this,ne).toItem(i(this,$)))||e(document);return r===null?null:new xt(r.content,i(this,ne).replacementsFor(`new_${i(this,E,C).association}`))}_extractCount(){return"associationInsertionCount"in i(this,E,C)?parseInt(i(this,E,C).associationInsertionCount,10):"count"in i(this,E,C)?parseInt(i(this,E,C).count,10):null}_extractMethod(){return"associationInsertionMethod"in i(this,E,C)?i(this,E,C).associationInsertionMethod:"before"}_extractNode(){if(!("associationInsertionNode"in i(this,E,C)))return i(this,$).parentElement;const e=i(this,E,C).associationInsertionNode;return e==="this"?i(this,$):"associationInsertionTraversal"in i(this,E,C)?(g0("3.0").warn("associationInsertionTraversal is deprecated"),new h0(i(this,$),i(this,E,C).associationInsertionTraversal).resolve(e)):i(this,$).ownerDocument.querySelector(e)}}ne=new WeakMap,$=new WeakMap,E=new WeakSet,C=function(){return i(this,$).dataset};var W;const et=class et{constructor(e){h(this,W);y(this,W,e)}static validates(e){return new et(e).validates()}validates(){const e=new Set(Object.keys(i(this,W))),r=new Set(["builder","count","node","method"]),n=new Set(Array.from(r.values()).filter(a=>!e.has(a)));if(n.size!==0)throw new TypeError(`Missing options: ${Array.from(n.values()).join(", ")}`);this._validateBuilder(),this._validateMethod()}_validateBuilder(){const e=i(this,W).builder;if(!(e instanceof xt))throw new TypeError(`Invalid builder option: instance of Builder expected, got ${e.constructor.name}`)}_validateMethod(){const e=i(this,W).method,r=["after","before","append","prepend","replaceWith"];if(!r.includes(e))throw new TypeError(`Invalid method option: expected one of ${r.join(", ")}, got ${e}`)}};W=new WeakMap;let Ue=et,v0=0;function y0(){return`${new Date().getTime()}${v0++}`}var Ee,I;const tt=class tt extends Ze{constructor(r,n,a={}){super(r,n);h(this,Ee);h(this,I,{count:1});y(this,I,{...i(this,I),...a}),Ue.validates(i(this,I))}static create(r,n){const a=new b0(r,n);return new tt(r,n,a.extract())}get insertionNode(){return i(this,I).node}handle(r){for(let n=0;n<i(this,I).count;n++){if(y(this,Ee,this._build()),!this._notify("before-insert",r))return!1;this._insert(),this._notify("after-insert",r)}}get _item(){return i(this,Ee)}get _notified(){return i(this,I).node}_insert(){i(this,I).node[i(this,I).method](this._item)}_build(){return i(this,I).builder.build(y0()).firstElementChild}};Ee=new WeakMap,I=new WeakMap;let ze=tt;var se;class A0 extends Ze{constructor(){super(...arguments);h(this,se)}handle(r){if(!this._notify("before-remove",r))return!1;this._hide(this._item).then(()=>{this._remove(),this._notify("after-remove",r)})}get _notified(){return typeof i(this,se)>"u"&&y(this,se,this._item.parentElement),i(this,se)}_remove(){this._removable()?this._item.remove():this._markForDestruction()}_removable(){return this._trigger.matches(".dynamic")||"cocoonedPersisted"in this._trigger.dataset&&this._trigger.dataset.cocoonedPersisted==="false"}_markForDestruction(){this._item.querySelector('input[type=hidden][name$="[_destroy]"]').setAttribute("value","true"),this._item.querySelectorAll("input[required], select[required]").forEach(r=>r.removeAttribute("required"))}}se=new WeakMap;const kt=/[\\^$.*+?()[\]{}|]/g,_0=RegExp(kt.source);var we,ae,ie,B,St,Be,Ct;class E0{constructor({tag:e="*",attribute:r,association:n,delimiters:a}){h(this,B);D(this,"attribute");D(this,"tag");h(this,we);h(this,ae);h(this,ie);this.attribute=r,this.tag=e,y(this,we,n),y(this,ae,a[0]),y(this,ie,a[a.length-1])}apply(e,r){const n=e.getAttribute(this.attribute);i(this,B,Be).test(n)&&e.setAttribute(this.attribute,n.replace(i(this,B,Be),P(this,B,St).call(this,r)))}}we=new WeakMap,ae=new WeakMap,ie=new WeakMap,B=new WeakSet,St=function(e){return`${i(this,ae)}${e}${i(this,ie)}$1`},Be=function(){const e=P(this,B,Ct).call(this,`${i(this,ae)}${i(this,we)}${i(this,ie)}`);return new RegExp(`${e}(.*?)`,"g")},Ct=function(e){return e&&_0.test(e)?e.replace(kt,"\\$&"):e||""};function Tt(t){return e=>{e.preventDefault(),t(e)}}function w0(t,e){const r=Tt(e);return n=>{const{target:a}=n;a.closest(t)!==null&&r(n)}}function Dt(t,e,r){const n=w0(e,r);return a=>{t.contains(a.target)&&n(a)}}const x0=t=>{var e;return e=class extends t{static registerReplacement({tag:r="*",attribute:n,delimiters:a}){this.__replacements.push({tag:r,attribute:n,delimiters:a})}static get replacements(){return this.__replacements}static replacementsFor(r){return this.replacements.map(n=>new E0({association:r,...n}))}static get selectors(){return{...super.selectors,"triggers.add":['[data-cocooned-trigger="add"]',".cocooned-add"],"triggers.remove":['[data-cocooned-trigger="remove"]',".cocooned-remove"]}}start(){super.start(),this.addTriggers=Array.from(this.container.ownerDocument.querySelectorAll(this._selector("triggers.add"))).map(r=>ze.create(r,this)).filter(r=>this.toContainer(r.insertionNode)===this.container),this.addTriggers.forEach(r=>r.trigger.addEventListener("click",Tt(n=>r.handle(n)))),this.container.addEventListener("click",Dt(this,this._selector("triggers.remove"),r=>{new A0(r.target,this).handle(r)}))}replacementsFor(r){return this.constructor.replacementsFor(r)}},D(e,"__replacements",[{tag:"label",attribute:"for",delimiters:["_"]},{tag:"*",attribute:"id",delimiters:["_"]},{tag:"*",attribute:"name",delimiters:["[","]"]},{tag:"trix-editor",attribute:"input",delimiters:["_"]}]),e};let k0=class jt extends x0(m0){static create(e,r){if("cocoonedUuid"in e.dataset)return jt.getInstance(e.dataset.cocoonedUuid);const n=new this.constructor(e,r);return n.start(),n}static start(){document.querySelectorAll("[data-cocooned-container], [data-cocooned-options]").forEach(e=>this.constructor.create(e))}};const S0=t=>class extends t{static get defaultOptions(){return{...super.defaultOptions,limit:!1}}start(){super.start(),this.options.limit!==!1&&this.container.addEventListener("cocooned:before-insert",e=>{this.items.length<this.options.limit||(e.preventDefault(),this.notify(this.container,"limit-reached",e.detail))})}};class Rt extends Ze{handle(e){if(this._pivotItem!==null){if(!this._notify("before-move",e))return!1;this._hide(this._item).then(()=>{this._move(),this._show(this._item).then(()=>this._notify("after-move",e))})}}get _pivotItem(){throw new TypeError("_pivotItem() must be defined in subclasses")}_move(){throw new TypeError("_move() must be defined in subclasses")}_findPivotItem(e,r){let n=e;do if(n=n[r],n!==null&&this._cocooned.contains(n))break;while(n!==null);return n}}var oe;class C0 extends Rt{constructor(){super(...arguments);h(this,oe)}get _pivotItem(){return typeof i(this,oe)>"u"&&y(this,oe,this._findPivotItem(this._item,"previousElementSibling")),i(this,oe)}_move(){this._pivotItem.before(this._item)}}oe=new WeakMap;var ce;class T0 extends Rt{constructor(){super(...arguments);h(this,ce)}get _pivotItem(){return typeof i(this,ce)>"u"&&y(this,ce,this._findPivotItem(this._item,"nextElementSibling")),i(this,ce)}_move(){this._pivotItem.after(this._item)}}ce=new WeakMap;var K,xe,L,Mt,Ge,Ye,Pt;class D0{constructor(e,r=0){h(this,L);h(this,K);h(this,xe);y(this,K,e),y(this,xe,r)}reindex(e){if(!P(this,L,Ye).call(this,"before-reindex",e))return!1;i(this,L,Mt).forEach((r,n)=>r.setAttribute("value",n+i(this,xe))),P(this,L,Ye).call(this,"after-reindex",e)}}K=new WeakMap,xe=new WeakMap,L=new WeakSet,Mt=function(){return i(this,L,Ge).map(e=>e.querySelector('input[name$="[position]"]'))},Ge=function(){return i(this,K).items},Ye=function(e,r){return i(this,K).notify(i(this,K).container,e,P(this,L,Pt).call(this,r))},Pt=function(e){return{nodes:i(this,L,Ge),cocooned:i(this,K),originalEvent:e}};function lt(t,e,r){return Dt(t,e,n=>{new r(n.target,t).handle(n)})}const j0=t=>{var e,r;return r=class extends t{constructor(){super(...arguments);h(this,e)}static get defaultOptions(){return{...super.defaultOptions,reorderable:!1}}static get selectors(){return{...super.selectors,"triggers.up":['[data-cocooned-trigger="up"]',".cocooned-move-up"],"triggers.down":['[data-cocooned-trigger="down"]',".cocooned-move-down"]}}start(){if(super.start(),this.options.reorderable===!1)return;this.container.addEventListener("cocooned:after-insert",s=>this._reindexer.reindex(s)),this.container.addEventListener("cocooned:after-remove",s=>this._reindexer.reindex(s)),this.container.addEventListener("cocooned:after-move",s=>this._reindexer.reindex(s));const a=this.container.closest("form");a!==null&&a.addEventListener("submit",s=>this._reindexer.reindex(s)),this.container.addEventListener("click",lt(this,this._selector("triggers.up"),C0)),this.container.addEventListener("click",lt(this,this._selector("triggers.down"),T0))}static _normalizeOptions(a){const s=super._normalizeOptions(a);return typeof s.reorderable=="boolean"&&s.reorderable&&(s.reorderable={startAt:1}),s}get _reindexer(){return typeof i(this,e)>"u"&&y(this,e,new D0(this,this.options.reorderable.startAt)),i(this,e)}},e=new WeakMap,r},R0=t=>class extends t{static get eventNamespaces(){return[...super.eventNamespaces,"cocoon"]}static get selectors(){const e=super.selectors;return e.item.push(".nested-fields"),e["triggers.add"].push(".add_fields"),e["triggers.remove"].push(".remove_fields"),e}};class pe extends j0(S0(R0(k0))){static create(e,r={}){if("cocoonedUuid"in e.dataset)return pe.getInstance(e.dataset.cocoonedUuid);const n=new pe(e,r);return n.start(),n}static start(){document.querySelectorAll("[data-cocooned-container], [data-cocooned-options]").forEach(e=>pe.create(e))}}var Ce={exports:{}},M0=Ce.exports,ut;function P0(){return ut||(ut=1,function(t,e){(function(r,n){t.exports=n()})(M0,function(){return function(r){function n(s){if(a[s])return a[s].exports;var l=a[s]={i:s,l:!1,exports:{}};return r[s].call(l.exports,l,l.exports,n),l.l=!0,l.exports}var a={};return n.m=r,n.c=a,n.i=function(s){return s},n.d=function(s,l,p){n.o(s,l)||Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:p})},n.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(l,"a",l),l},n.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},n.p="",n(n.s=1)}([function(r,n,a){function s(p,u,o){if(typeof p!="string")throw new Error("tagName must be a string");var f=document.createElement(p);return u&&(typeof u>"u"?"undefined":l(u))==="object"&&Object.keys(u).forEach(function(b){/on[A-Z][a-z]/.test(b)?f[b.toLowerCase()]=u[b]:f.setAttribute(b,u[b])}),typeof o=="string"?f.innerHTML=o:o instanceof Array&&o.forEach(function(b){f.appendChild(b)}),f}Object.defineProperty(n,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};n.default=s,r.exports=n.default},function(r,n,a){function s(o){return o&&o.__esModule?o:{default:o}}function l(o,f){if(o=o||{},!f)throw new Error('"rootNode" is not passed');if(!o.formId)throw new Error('"formId" option is not defined');if(o.snippetFieldName=o.snippetFieldName||"entry.13240190",o.urlFieldName=o.urlFieldName||"entry.238687347",o.commentFieldName=o.commentFieldName||"entry.1447231081",o.endpointUrl=o.endpointUrl||"https://cors-anywhere.herokuapp.com/https://docs.google.com/forms/d/e/"+o.formId+"/formResponse?embedded=true",o.offset=o.offset||50,o.translations=o.translations||this.translations,o.locale=o.locale||"en",!o.translations[o.locale])throw new Error("No translations defined for locale "+o.locale);this.i18n=o.translations[o.locale],this.props=o,this.node=f,this.state={},this.submit=this.submit.bind(this),this.handleCommentChange=this.handleCommentChange.bind(this),this.closeDialog=this.closeDialog.bind(this),document.addEventListener("keydown",(function(b){b.ctrlKey&&b.which===13&&this.showDialog(),b.which===27&&this.closeDialog()}).bind(this)),this.refresh()}Object.defineProperty(n,"__esModule",{value:!0});var p=a(0),u=s(p);l.prototype.translations={en:{header:"Report a mistake on the page",messageLabel:"There is a mistake in the following text:",commentLabel:"<strong>Do you want to send a notice to a webmaster?</strong>",send:"<strong>Send</strong>",sending:"Sending",cancel:"Cancel",error:"Error! Something went wrong..."},ru:{header:"Сообщите об ошибке на странице",messageLabel:"Ошибка содержится в следующем тексте:",commentLabel:"<strong>Отправить сообщение об ошибке редактору сайта?</strong>",send:"<strong>Отправить</strong>",sending:"Отправляю",cancel:"Отмена",error:"Ошибка! Что-то пошло не так..."}},l.prototype.render=function(){var o=this.state,f=this.i18n;return o.isOpen&&(0,u.default)("div",{class:"ReportTypo"},[(0,u.default)("div",{class:"ReportTypo-header"},f.header),(0,u.default)("div",{class:"ReportTypo-label"},f.messageLabel),(0,u.default)("div",{class:"ReportTypo-message"},o.snippet.replace(">>>",'<u class="ReportTypo-heighlight">').replace("<<<","</u>")),(0,u.default)("textarea",{class:"ReportTypo-comment",onKeyup:this.handleCommentChange},o.comment),(0,u.default)("div",{class:"ReportTypo-label"},f.commentLabel),(0,u.default)("div",{style:"text-align: right;"},[(0,u.default)("button",{type:"button",class:"ReportTypo-submit",onClick:this.submit},o.isSending?f.sending:f.send),(0,u.default)("button",{type:"button",class:"ReportTypo-cancel",onClick:this.closeDialog},f.cancel)]),(0,u.default)("div",null,o.isError&&f.error)])},l.prototype.refresh=function(){var o=this.node;o.innerHTML="";var f=this.render();f&&o.appendChild(f)},l.prototype.submit=function(){var o=this.state,f=this.props;o.isSending=!0,this.refresh();var b=new FormData;b.append(f.snippetFieldName,o.snippet),b.append(f.commentFieldName,o.comment),b.append(f.urlFieldName,window.location);var S=new XMLHttpRequest;S.open("POST",f.endpointUrl,!0),S.onload=(function(){S.status>=200&&S.status<400?this.closeDialog():(o.isError=!0,o.isSending=!1,this.refresh())}).bind(this),S.onerror=(function(){o.isError=!0,o.isSending=!1,this.refresh()}).bind(this),S.send(b)},l.prototype.getSnippet=function(){var o=this.props,f=document.getSelection(),b=f.toString();if(b){var S=f.getRangeAt(0),le=document.createRange(),T=document.createRange();le.setStartBefore(S.startContainer.ownerDocument.body),le.setEnd(S.startContainer,S.startOffset),T.setStart(S.endContainer,S.endOffset),T.setEndAfter(S.endContainer.ownerDocument.body);var c=le.toString().substr(-o.offset),d=T.toString().substr(0,o.offset),_=c+">>>"+b+"<<<"+d,g=document.createElement("div");return g.innerHTML=_,g.innerText.replace(/\r?\n|\r/g,"").replace(/\s+/g," ")}},l.prototype.showDialog=function(){var o=this.state;o.snippet=this.getSnippet(),o.snippet&&(o.isOpen=!0,this.refresh())},l.prototype.closeDialog=function(){this.state={},this.refresh()},l.prototype.handleCommentChange=function(o){this.state.comment=o.target.value},n.default=l,r.exports=n.default}])})}(Ce)),Ce.exports}var I0=P0();const L0=dt(I0),It={googleDocsUrl:"https://docs.google.com",corsProxyUrl:"https://corsanywhere.hexlet.app"},O0=t=>{const e=new URL(`/forms/d/e/${t}/formResponse`,It.googleDocsUrl);return e.searchParams.set("embedded","true"),e},N0=async(t,e,r)=>{const{t:n}=qt,a=O0(e),s=[It.corsProxyUrl,a.toString()].join("/");return new L0({formId:e,endpointUrl:s,locale:r,translations:{[r]:{header:n("typoreporter.header"),messageLabel:n("typoreporter.messageLabel"),commentLabel:n("typoreporter.commentLabel"),send:n("typoreporter.send"),sending:n("typoreporter.sending"),cancel:n("typoreporter.cancel"),error:n("typoreporter.error")}}},t)},$0=c0.determine();Nt.set("browser_time_zone",$0.name(),{expires:1,path:"/"});function H0(){const t=document.location;t.hash&&([...document.querySelectorAll(`[data-bs-toggle="tab"][href="${t.hash}"]`)].forEach(s=>console.log(nt.getOrCreateInstance(s).show())),[...document.querySelectorAll(`[data-bs-toggle="tab"][data-bs-target="${t.hash}"]`)].forEach(s=>nt.getOrCreateInstance(s).show())),[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].forEach(n=>new $t(n,{boundary:"window"})),[...document.querySelectorAll('[data-bs-toggle="popover"]')].forEach(n=>new Ht(n,{html:!0}))}function q0(){const t=document.createElement("div");document.body.appendChild(t),N0(t,window.gon.typoreporter_google_form_id,window.gon.language)}function F0(){document.querySelectorAll(".external-link").forEach(t=>{t.addEventListener("click",()=>{window.open(t.dataset.href,t.dataset.target||"_blank")}),t.style.cursor="pointer"})}document.addEventListener("cocooned:after-insert",t=>Ft(t.detail.node));document.addEventListener("DOMContentLoaded",()=>{pe.start(),G.start(),H0(),q0(),F0()});
